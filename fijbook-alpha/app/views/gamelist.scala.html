@import com.fijimf.deepfij.models.{Schedule,User,Game}
@import controllers.nav.{Breadcrumbs, StandardNavBar}
@import java.time.LocalDate
@import java.time.format.DateTimeFormatter
@(user: Option[User], today:LocalDate, currOpt:Option[Schedule], todayGames:List[Game], yesterday:LocalDate, tomorrow:LocalDate)(implicit flash: Flash)
@main("deepfij", "Deep Fij", today.toString, Some(Breadcrumbs.base), StandardNavBar.active("no-active",user), user,datebook=Some(today)) {
    @if(currOpt.isDefined){
        <div class="row">
            <div class="col-sm-5">
                <h4 class="text-center">
                    Today's Games

                </h4>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
            <h5>    <a class="text-left" href="@routes.GamesController.gamesByDate(yesterday.format(DateTimeFormatter.BASIC_ISO_DATE))">
                    <i class="fa fa-arrow-left small"></i>@yesterday.format(DateTimeFormatter.ISO_LOCAL_DATE)</a>
            </h5> </div>
            <div class="col-sm-2 col-sm-offset-1 text-right">
                <h5><a class="text-right" href="@routes.GamesController.gamesByDate(tomorrow.format(DateTimeFormatter.BASIC_ISO_DATE))">
                    @tomorrow.format(DateTimeFormatter.ISO_LOCAL_DATE)<i class="small fa fa-arrow-right"></i></a>
                </h5>
            </div>
        </div>
            <div class="row">
                <div class="col-sm-5">
                <table class="table table-condensed table-schedule" >
                @for(g <-todayGames) {
                    <tr>
                        <td>@g.date</td>
                        <td><a href="@routes.TeamController.team(currOpt.get.teamsMap(g.homeTeamId).key)">@{currOpt.get.teamsMap(g.homeTeamId).name}</a></td>
                        <td>@{currOpt.get.resultMap.get(g.id).map(_.homeScore).getOrElse("")}</td>
                        <td><a href="@routes.TeamController.team(currOpt.get.teamsMap(g.homeTeamId).key)">@{currOpt.get.teamsMap(g.awayTeamId).name}</a></td>
                        <td>@{currOpt.get.resultMap.get(g.id).map(_.awayScore).getOrElse("")}</td>
                    </tr>
                }
                </table>
            </div>
        </div>
    } else {
        <div class="row">
            <div class="col-sm-8">
                <h3><em>No schedule is currently loade</em></h3>
            </div>
        </div>
    }
}
