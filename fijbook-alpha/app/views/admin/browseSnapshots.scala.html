@import controllers.nav.Breadcrumbs
@import controllers.nav.MainMeta
@import com.fijimf.deepfij.models.User
@import com.fijimf.deepfij.models.GameInfo
@import java.time.LocalDateTime
@import java.time.format.DateTimeFormatter
@import org.apache.commons.lang3.StringUtils
@(user:User,ss:List[(String, Long, LocalDateTime)])(implicit flash: Flash)
@mainX(
    MainMeta.base("Serialize", Some(user))
            .withNav("admin")
            .withCrumbs(Breadcrumbs.admin.appendLeaf("Serialize"))
){
    <div class="row">
        <div class="col-md-2">
            <a href="@routes.AdminController.writeSnapshot()" class="btn btn-small btn-block btn-success">Create a snapshot</a>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="panel">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>Snapshot</th>
                        <th>Size (MB)</th>
                        <th>Timestamp</th>
                    </tr>
                </thead>
                <tbody>
                    @for(s<-ss){
                        <tr><td>
                            <a href="@routes.AdminController.readSnapshot(s._1)" class="btn btn-xs btn-success">Load</a>
                            <a href="@routes.AdminController.deleteSnapshot(s._1)" class="btn btn-xs btn-danger">Delete</a>
                        </td>
                            <td>@s._1</td>
                            <td>@{"%5.2f".format(s._2/1000000.0)}</td>
                            <td>@{s._3.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:MM:ss.SSS"))}</td>
                        </tr>
                    }
                </tbody>
            </table>
            </div>
            
        </div>
    </div>
}
